DECLARE
CURSOR TEMP_CUR IS 
SELECT * FROM TEMP
FOR UPDATE;

temp_rec TEMP%rowtype;
BEGIN
  
  FOR TEMP_REC IN TEMP_CUR LOOP
    
    UPDATE TEMP SET P=P+1
    WHERE CURRENT OF TEMP_CUR;
    
  END LOOP;
  
  COMMIT;

END;